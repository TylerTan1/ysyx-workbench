# Sanity check
ifeq ($(wildcard $(NPC_HOME)/csrc/main.cpp),)
	$(error NPC_HOME=$(NPC_HOME) is not a NPC repo)
endif

# Include cariables and rules generated by menuconfig
-include $(NPC_HOME)/include/config/auto.conf
-include $(NPC_HOME)/include/config/auto.conf.cmd

FILELIST_MK = $(shell find -L ./csrc ./vsrc -name "filelist.mk")
include $(FILELIST_MK)

# Include rules for menuconfig and build
include $(NPC_HOME)/scripts/config.mk
include $(NPC_HOME)/scripts/native.mk

include ../Makefile
